# Proving Service Environment Configuration
# Copy this file to .env and adjust values as needed

# ============================================================
# gRPC Server Configuration
# ============================================================

# gRPC server bind address
# Use 0.0.0.0 to bind to all interfaces, or specify a specific IP
GRPC_ADDR=0.0.0.0:50052

# Maximum gRPC message size in bytes (1GB default)
MAX_GRPC_MSG_SIZE=1073741824

# ============================================================
# Authentication (Optional)
# ============================================================

# Authentication method: none, bearer
AUTH_METHOD=none

# Bearer token (required if AUTH_METHOD=bearer)
# BEARER_TOKEN=your-secret-token-here

# ============================================================
# Database Configuration
# ============================================================

# Database URL (SQLite)
DATABASE_URL=sqlite:///app/data/pico_proving_service.db

# ============================================================
# Proving Configuration
# ============================================================

# Number of provers to run concurrently
# Recommended: Set based on available CPU cores (e.g., 32 for 64-core machine)
PROVER_COUNT=32

# Maximum supported emulation cycles (optional)
# If not set, no limit is enforced
# Example values: 100000000 (100M), 200000000 (200M)
# MAX_EMULATION_CYCLES=200000000

# Split threshold for proof generation
SPLIT_THRESHOLD=1048576

# Chunk size for processing
CHUNK_SIZE=4194304

# Chunk batch size
CHUNK_BATCH_SIZE=1

# ============================================================
# CPU Configuration
# ============================================================

# Emulator thread number
# Recommended: Set to number of physical cores or slightly less
NUM_THREADS=8

# Minimum Rust stack size
RUST_MIN_STACK=16777216

# ============================================================
# Verification
# ============================================================

# Enable/disable VK verification
# Set to true to use predetermined recursion circuit
VK_VERIFICATION=true

# ============================================================
# Logging
# ============================================================

# Rust log level: trace, debug, info, warn, error
RUST_LOG=debug

# Rust backtrace: 0, 1, or full
RUST_BACKTRACE=full
