# Proving Service Environment Configuration
# Copy this file to .env and adjust values as needed

# ============================================================
# gRPC Server Configuration
# ============================================================

# gRPC server bind address
# Use 0.0.0.0 to bind to all interfaces, or specify a specific IP
GRPC_ADDR=0.0.0.0:50052

# Maximum gRPC message size in bytes (1GB default)
MAX_GRPC_MSG_SIZE=1073741824

# ============================================================
# Authentication (Optional)
# ============================================================

# Authentication method: none, bearer
AUTH_METHOD=none

# Bearer token (required if AUTH_METHOD=bearer)
# BEARER_TOKEN=your-secret-token-here

# ============================================================
# Database Configuration
# ============================================================

# Database URL (SQLite)
DATABASE_URL=sqlite:///app/data/pico_proving_service.db

# ============================================================
# Proving Configuration
# ============================================================

# Number of provers to run concurrently
PROVER_COUNT=8

# Maximum supported emulation cycles (optional)
# If not set, no limit is enforced
# Example values: 1000000, 10000000
# MAX_EMULATION_CYCLES=10000000

# Proving task interval in seconds
PROVING_INTERVAL=5

# Split threshold for proof generation
SPLIT_THRESHOLD=32768

# Chunk size for processing
CHUNK_SIZE=4194304

# Chunk batch size
CHUNK_BATCH_SIZE=1

# ============================================================
# CPU Configuration
# ============================================================

# Emulator thread number
NUM_THREADS=6

# Number of RISC-V preparers
NUM_RISCV_PREPARERS=4

# CPU event pool size
CPU_EVENT_POOL_SIZE=100

# Minimum Rust stack size
RUST_MIN_STACK=16777216

# ============================================================
# Verification
# ============================================================

# Enable/disable VK verification
VK_VERIFICATION=true

# ============================================================
# Logging
# ============================================================

# Rust log level: trace, debug, info, warn, error
RUST_LOG=info

# Rust backtrace: 0, 1, or full
RUST_BACKTRACE=full